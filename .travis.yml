language: java
services:
  - mysql
addons:
  sonarcloud:
    organization: "mihanloko"
    token:
      secure: "JlPYMU6hJjtG6y3skmZQqAxGA9nAaBmW3D/e1eORxezKc2M/q1a3LK/E7Tg4Uq/7mtCGzD2WxiXQNd2PBwH/uzVuDG6BzEp3A3fMicE8k/zS3h5JFNINET2R3wbkhNCTnC9utC2tDQXIR5yIc+nIfJM/EVNjxx0T9byYj+/jAcYR2oeKDeI/UPjmIl8ycc2G1BxOKL++//J58/7MdS7TkkopzPgf7jIyIJWh7UncVtv5cB3Orz4AAAgfJSRO5t8gAaF7VlRUCHMaz4RQs6Tg0UNBM+TL5VYgKIRM52XtnPk6n3QrF1wBx4+7r4DPBTNAvJzBQ3I41VmA7U7drBSI8sL3rPjafQtX902X+LdjqOWKrkjZTCLdazq2cGk+Qs4XUHj5H1nnrzxI7hTbJh5WveF7h5swFoc+zNlNi0jQXl4pSbgYImFkml7epMWQhC+XD4c3drTgAhjKCcVX+epvR92nOp1irz2My1hnxRUqaRltpvXs9iEqo+GQdUerVL607EplkA3/cRXxEyWFhHu+20U5KTsnn5drUFiNEwFfoKnraSIaJPXgy/TF8Nw9CPQ6p2+NFWZZ+N5a6HTg2K2BZfjDx2emTcK0q6YYQ5ELloGSxj7rNUY78gKRptZ4IlKXCl44MqeoG0Y/8Wu838nCyKrwqOwn4QtTSta676oOuaw="
  apt:
    sources:
      - mysql-5.7-trusty
    packages:
      - mysql-server
      - mysql-client

before_install:
  - mysql -e 'CREATE DATABASE servers;'
  - sudo mysql -e "use mysql; update user set authentication_string=PASSWORD('root') where User='root'; update user set plugin='mysql_native_password';FLUSH PRIVILEGES;"
  - sudo mysql_upgrade -u root -proot
  - sudo service mysql restart

script:
  - mvn clean package org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=mihanloko_projectForTeamDev


#language: java
#addons:
#  sonarcloud:
#    organization: mihanloko
#    token:
#      secure: YO17I8+yuwX2QTQcwORHonACcmX33MUOteNZjpM0sOivbR/iGP8ayisLUAHi/WfN89PCAM5dBO+WI4DqWo2E27Y/RdRcwaWw3e62n4bbqM5vrH7RnjaRPiK4cpN3rqmkVFBje2pOnHu5J+/62JDIgOjmQHexQEqeDvhWZzeL9JzwZR/XNxGkehpTe5JKBTROcY5BEhP87mierLedm4eh4C74NrLcs3XiCo41p8gXdU/aHMOSMGQn78p6PU5kihScdbbgOWbTvXSPjNtTupWPe4OiPnt6LviMyk7Zx89NUOK9cS86g3KiZWVGYJLxJFHVx5y8G2OecrSL8tpbl+FdwjxCopmsv1IOgDngdb0ZalP89jl1e+tjD+P8DE9nL6S7F4wZo27VPZqoHPkYTso54KvQXYn4jpItpwRFeYzTwFpRb6qdjjDd9QiZdJZnWeUK85AYCVe+uArWJHEFkvZ7GG5O2iSuEwxO2WO2wQ3bGKQ2nM3QSVfSA5uNY0oAwOffYT+6uWuP98iXtNb+xr4+dk4kqoYIgHKjrNc4pAYtKm7Gc8wQN3FlPQXaHsBBHXLbVY7t0uG5zuZYZUcDF4iHFebCIW93DdVUeahTPxOVo50Pk9SdpgWGi16p+143l2rsayly/xYGGFOH1OBtAGXfws7ktY9+gx20pkzW5czvg80=
#
#script:
#  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=mihanloko_testing_things
#deploy:
#  provider: heroku
#  app: test-app-loko
#  api_key:
#    secure: A6jkCxvVxNBt6mIaljaeS8pqAg72b7Qoy5wy6xZ8YRIa6Qw4BnmwLNyYB+CdoTc7prO8g8c+tHvZLDcmLX40mY4/B0WCAYi9C2gaXdyYYSOzVzn+Pa3FSc2WGeB6WynffBu7MTP7IltFp12zIYhYPzpZSYLO65voAq071qk0eR1vtEebvg4eES92aJOquXxe0aOqM0Npxf3LBsoUJDLtOuiI1ZlINudljPewqGllwEIwyi3yYr7NidoTmLs8oPGyiHetOnU61mRa8xOWXpOwBFzjLHOsGlKj5PXo3WFHSvx5kB6t9jpjEngdc8MhM1OEIPnbmDqYrwEr3PAw4w5UJ7RhZqQeG09RKKHJTNyglKDrCMGlPgdRsZ++Bq4LSHONcGIk3r+pHllZnGTJM2a7HdnEQqyVP/bav6ebQW1fe3fwA4kn80Pag8gMDVHj89VRH33voiYncHntCPCQqhvLthQWcVvSqSZdzIrUqExXXIfymtGgBwKTiw5LfztlSLVv+4jxRMjMTJ/mopqcp5gS17svk0CROOFXWguBx2vEXv9IZ7blijFgysKen66foQ2ZJaeH3EyoEUy4EEX1jrobWDwgJaUUjABTwGYLA8G5PwBZzuY5ZTgieoc3QDzimguLEh6/puv47ZCit9mAjZVA2o3mc9Liwr1HCxtXM0CYDKU=
#  run:
#    - "mvn clean package"